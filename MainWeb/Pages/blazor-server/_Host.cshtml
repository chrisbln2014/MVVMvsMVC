@page "/blazor-server"
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="zh-tw">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blazor Server</title>
    <base href="/blazor-server/" />
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" />
    <link href="/_content/Blazor-Server/css/site.css" rel="stylesheet" />
</head>
<body>
    <div id="app">
        @(await Html.RenderComponentAsync<Blazor_Server.App>(RenderMode.Server))
        <div class="loading">Loading...</div>
    </div>

    <div id="blazor-error-ui" style="display:none;">
        <environment include="Staging,Production">
            ç™¼ç”ŸéŒ¯èª¤ã€‚æ­¤æ‡‰ç”¨ç¨‹å¼å¯èƒ½ä¸å†å›æ‡‰ï¼Œé™¤éé‡æ–°è¼‰å…¥ã€‚
        </environment>
        <environment include="Development">
            ç™¼ç”Ÿæœªè™•ç†çš„ä¾‹å¤–ç‹€æ³ã€‚è«‹åƒé–±ç€è¦½å™¨é–‹ç™¼å·¥å…·ä»¥å–å¾—è©³ç´°è³‡è¨Šã€‚
        </environment>
        <a href="" class="reload">é‡æ–°è¼‰å…¥</a>
        <a class="dismiss">ğŸ—™</a>
    </div>

    <script src="/_framework/blazor.server.js" autostart="false"></script>
    <script>
        Blazor.start({
            logLevel: 1, // è©³ç´°è¨˜éŒ„ç”¨æ–¼èª¿è©¦
            applicationCulture: 'zh-TW',
            configureSignalR: function (builder) {
                builder.withUrl('_blazor');
            }
        }).then(() => {
            console.log('Blazor å•Ÿå‹•å®Œæˆ');
            document.querySelector('.loading').style.display = 'none';
        }).catch(error => {
            console.error('Blazor å•Ÿå‹•å¤±æ•—:', error);
        });
    </script>
</body>
</html>